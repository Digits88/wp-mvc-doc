<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Tutorial | WP MVC</title>

   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/css/default.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/documentation.css" type="text/css" media="screen, projection" />
</head>
<body>

  <a href="https://github.com/tombenner/wp-mvc"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

  <div id="container">
  
    <div id="nav">
      
      <div id="header">
        <a href="/" id="logo">WP MVC</a>
      </div>

      <ul class="doc-nav" id="sections"><li class="in-active-tree"><a href="/documentation/installation">Installation</a><ul><li><a href="/documentation/installation/installing_example_plugins.html">Installing Example Plugins</a></li></ul></li><li class="active in-active-tree"><a href="/documentation/tutorial">Tutorial</a><ul class="in-active-tree"><li class="in-active-tree"><a href="/documentation/tutorial/create_the_plugin.html">Create the Plugin</a></li><li class="in-active-tree"><a href="/documentation/tutorial/create_the_database_table.html">Create the Database Table</a></li><li class="in-active-tree"><a href="/documentation/tutorial/create_the_models_views_and_controllers.html">Create the Models Views and Controllers</a></li></ul></li><li class="in-active-tree"><a href="/documentation/creating_plugins">Creating Plugins</a><ul><li><a href="/documentation/creating_plugins/generating_code.html">Generating Code</a></li></ul></li><li class="in-active-tree"><a href="/documentation/creating_database_tables.html">Creating Database Tables</a></li><li class="in-active-tree"><a href="/documentation/models">Models</a><ul><li><a href="/documentation/models/saving_data">Saving Data</a><ul><li><a href="/documentation/models/saving_data/create.html">create</a></li><li><a href="/documentation/models/saving_data/save.html">save</a></li><li><a href="/documentation/models/saving_data/update.html">update</a></li><li><a href="/documentation/models/saving_data/update_all.html">update_all</a></li><li><a href="/documentation/models/saving_data/insert.html">insert</a></li></ul></li><li><a href="/documentation/models/retrieving_data">Retrieving Data</a><ul><li><a href="/documentation/models/retrieving_data/find.html">find</a></li><li><a href="/documentation/models/retrieving_data/find_one.html">find_one</a></li><li><a href="/documentation/models/retrieving_data/find_by_id.html">find_by_id</a></li><li><a href="/documentation/models/retrieving_data/find_by__.html">find_by_*</a></li><li><a href="/documentation/models/retrieving_data/find_one_by__.html">find_one_by_*</a></li><li><a href="/documentation/models/retrieving_data/paginate.html">paginate</a></li><li><a href="/documentation/models/retrieving_data/count.html">count</a></li><li><a href="/documentation/models/retrieving_data/max.html">max</a></li><li><a href="/documentation/models/retrieving_data/min.html">min</a></li><li><a href="/documentation/models/retrieving_data/sum.html">sum</a></li><li><a href="/documentation/models/retrieving_data/average.html">average</a></li></ul></li><li><a href="/documentation/models/deleting_data">Deleting Data</a><ul><li><a href="/documentation/models/deleting_data/delete.html">delete</a></li><li><a href="/documentation/models/deleting_data/delete_all.html">delete_all</a></li></ul></li><li><a href="/documentation/models/validations.html">Validations</a></li><li><a href="/documentation/models/associations">Associations</a><ul><li><a href="/documentation/models/associations/belongs_to.html">Belongs To</a></li><li><a href="/documentation/models/associations/has_many.html">Has Many</a></li><li><a href="/documentation/models/associations/has_and_belongs_to_many.html">Has and Belongs To Many</a></li><li><a href="/documentation/models/associations/dependent_associations.html">Dependent Associations</a></li></ul></li><li><a href="/documentation/models/model_attributes">Model Attributes</a><ul><li><a href="/documentation/models/model_attributes/table.html">table</a></li><li><a href="/documentation/models/model_attributes/database.html">database</a></li><li><a href="/documentation/models/model_attributes/includes.html">includes</a></li><li><a href="/documentation/models/model_attributes/order.html">order</a></li><li><a href="/documentation/models/model_attributes/display_field.html">display_field</a></li><li><a href="/documentation/models/model_attributes/primary_key.html">primary_key</a></li><li><a href="/documentation/models/model_attributes/selects.html">selects</a></li><li><a href="/documentation/models/model_attributes/per_page.html">per_page</a></li><li><a href="/documentation/models/model_attributes/hide_menu.html">hide_menu</a></li></ul></li><li><a href="/documentation/models/model_methods">Model Methods</a><ul><li><a href="/documentation/models/model_methods/after_find.html">after_find</a></li><li><a href="/documentation/models/model_methods/after_save.html">after_save</a></li><li><a href="/documentation/models/model_methods/to_url.html">to_url</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/controllers">Controllers</a><ul><li><a href="/documentation/controllers/controller_methods">Controller Methods</a><ul><li><a href="/documentation/controllers/controller_methods/set.html">set</a></li><li><a href="/documentation/controllers/controller_methods/set_object.html">set_object</a></li><li><a href="/documentation/controllers/controller_methods/set_objects.html">set_objects</a></li><li><a href="/documentation/controllers/controller_methods/set_pagination.html">set_pagination</a></li><li><a href="/documentation/controllers/controller_methods/load_helper.html">load_helper</a></li><li><a href="/documentation/controllers/controller_methods/load_model.html">load_model</a></li><li><a href="/documentation/controllers/controller_methods/load_models.html">load_models</a></li><li><a href="/documentation/controllers/controller_methods/redirect.html">redirect</a></li><li><a href="/documentation/controllers/controller_methods/flash.html">flash</a></li><li><a href="/documentation/controllers/controller_methods/create_or_save.html">create_or_save</a></li></ul></li><li><a href="/documentation/controllers/controller_attributes">Controller Attributes</a><ul><li><a href="/documentation/controllers/controller_attributes/before.html">before</a></li><li><a href="/documentation/controllers/controller_attributes/after.html">after</a></li><li><a href="/documentation/controllers/controller_attributes/default_searchable_fields.html">default_searchable_fields</a></li><li><a href="/documentation/controllers/controller_attributes/default_search_joins.html">default_search_joins</a></li><li><a href="/documentation/controllers/controller_attributes/default_columns.html">default_columns</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/views">Views</a><ul><li><a href="/documentation/views/layouts">Layouts</a><ul><li><a href="/documentation/views/layouts/specifying_a_layout.html">Specifying a Layout</a></li></ul></li><li><a href="/documentation/views/views_within_views.html">Views Within Views</a></li><li><a href="/documentation/views/using_helpers.html">Using Helpers</a></li><li><a href="/documentation/views/view_methods">View Methods</a><ul><li><a href="/documentation/views/view_methods/pagination.html">pagination</a></li><li><a href="/documentation/views/view_methods/render_view.html">render_view</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/helpers">Helpers</a><ul><li><a href="/documentation/helpers/creating_helpers.html">Creating Helpers</a></li><li><a href="/documentation/helpers/core_helpers">Core Helpers</a><ul><li><a href="/documentation/helpers/core_helpers/html.html">HTML</a></li><li><a href="/documentation/helpers/core_helpers/form.html">Form</a></li><li><a href="/documentation/helpers/core_helpers/form_tags.html">Form Tags</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/functions">Functions</a><ul><li><a href="/documentation/functions/is_mvc_page.html">is_mvc_page</a></li><li><a href="/documentation/functions/mvc_model.html">mvc_model</a></li><li><a href="/documentation/functions/mvc_public_url.html">mvc_public_url</a></li><li><a href="/documentation/functions/mvc_admin_url.html">mvc_admin_url</a></li><li><a href="/documentation/functions/mvc_css_url.html">mvc_css_url</a></li><li><a href="/documentation/functions/mvc_js_url.html">mvc_js_url</a></li><li><a href="/documentation/functions/mvc_render_to_string.html">mvc_render_to_string</a></li><li><a href="/documentation/functions/mvc_get_plugins.html">mvc_get_plugins</a></li></ul></li><li class="in-active-tree"><a href="/documentation/routing">Routing</a><ul><li><a href="/documentation/routing/pretty_urls.html">Pretty URLs</a></li></ul></li><li class="in-active-tree"><a href="/documentation/utilities">Utilities</a><ul><li><a href="/documentation/utilities/inflector">Inflector</a><ul><li><a href="/documentation/utilities/inflector/inflector_methods.html">Inflector Methods</a></li><li><a href="/documentation/utilities/inflector/adding_rules_to_inflector.html">Adding Rules To Inflector</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/configuration">Configuration</a><ul><li><a href="/documentation/configuration/debug.html">Debug</a></li><li><a href="/documentation/configuration/adminpages.html">AdminPages</a></li></ul></li><li class="in-active-tree"><a href="/documentation/wordpress_data_integration">Wordpress Data Integration</a><ul><li><a href="/documentation/wordpress_data_integration/models_for_wordpress_tables.html">Models For Wordpress Tables</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts">Synchronizing Models With Posts</a><ul><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/no_associated_custom_post_type.html">No Associated Custom Post Type</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/default_custom_post_type.html">Default Custom Post Type</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/customized_custom_post_type.html">Customized Custom Post Type</a></li></ul></li><li><a href="/documentation/wordpress_data_integration/quick_settings_pages.html">Quick Settings Pages</a></li></ul></li></ul>
      
      <div class="extra">
        <a href="/download.html">Download</a>
      </div>
      
      <div class="extra">
        <a href="/contact.html">Contact</a>
      </div>
      
      <div class="extra">
        <a href="https://github.com/tombenner/wp-mvc">Source</a>
      </div>
      
      <div class="extra extra-small">
        Powered by <a href="https://github.com/tombenner/jdoc">JDoc</a>
      </div>
      
    </div>

    <div id="content">
    
      <div class="documentation-content">
  <h2>Tutorial</h2>
  <p>In this tutorial, we'll create a plugin called "Venue Listing" that lets you manage and display venues.</p>

<div class="doc-child-header"><a class="doc-child-link" href="/documentation/tutorial/create_the_plugin.html">View alone</a><h3>Create the Plugin</h3></div>


<p>We'll use the code generation utility <code>wpmvc</code> to create the initial code of the plugin.  You'll need to have access to the command line to do the following.</p>

<p>Go into the WP MVC directory and make sure that <code>wpmvc</code> is executable.</p>

<p><code>cd path/to/plugins/wp-mvc</code></p>

<p><code>chmod +x wpmvc</code></p>

<p>Generate the plugin's initial code.</p>

<p><code>./wpmvc generate plugin VenueListing</code></p>

<p>This will generate files in <code>path/to/plugins/venue-listing/</code> that create a WP MVC-based plugin.  The plugin can now be activated in WordPress, but before activating it, we'll want to add code for creating a database table during its activation.<div class="doc-child-header"><a class="doc-child-link" href="/documentation/tutorial/create_the_database_table.html">View alone</a><h3>Create the Database Table</h3></div>To create a table to store our venues, open up <code>plugins/venue-listing/venue_listing_loader.php</code>.  The <code>activate()</code> method is called when this plugin is activated, so we'll want to create our table here using WordPress's <a href="http://codex.wordpress.org/Creating_Tables_with_Plugins#Creating_or_Updating_the_Table">dbDelta()</a> function.  Add a few lines to <code>activate()</code> so that it looks like this:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">activate</span><span class="p">()</span> <span class="p">{</span>

  <span class="c1">// This call needs to be made to activate this app within WP MVC</span>
  
  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">activate_app</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">);</span>
  
  <span class="c1">// Perform any databases modifications related to plugin activation here, if necessary</span>

  <span class="k">require_once</span> <span class="nx">ABSPATH</span><span class="o">.</span><span class="s1">&#39;wp-admin/includes/upgrade.php&#39;</span><span class="p">;</span>

  <span class="nx">add_option</span><span class="p">(</span><span class="s1">&#39;venue_listing_db_version&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db_version</span><span class="p">);</span>
  
  <span class="c1">// Use dbDelta() to create the tables for the app here</span>
  
  <span class="k">global</span> <span class="nv">$wpdb</span><span class="p">;</span>
  <span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;</span>
<span class="s1">    CREATE TABLE &#39;</span><span class="o">.</span><span class="nv">$wpdb</span><span class="o">-&gt;</span><span class="na">prefix</span><span class="o">.</span><span class="s1">&#39;venues (</span>
<span class="s1">      id int(11) NOT NULL auto_increment,</span>
<span class="s1">      name varchar(255) NOT NULL,</span>
<span class="s1">      url varchar(255) default NULL,</span>
<span class="s1">      description text,</span>
<span class="s1">      address1 varchar(255) default NULL,</span>
<span class="s1">      address2 varchar(255) default NULL,</span>
<span class="s1">      city varchar(100) default NULL,</span>
<span class="s1">      state varchar(5) default NULL,</span>
<span class="s1">      zip varchar(20) default NULL,</span>
<span class="s1">      PRIMARY KEY  (id)</span>
<span class="s1">    )&#39;</span><span class="p">;</span>
  <span class="nx">dbDelta</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
  
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<p>Now activate the plugin, and the table will be created.<div class="doc-child-header"><a class="doc-child-link" href="/documentation/tutorial/create_the_models_views_and_controllers.html">View alone</a><h3>Create the Models Views and Controllers</h3></div>Go back to the command line, and in the <code>plugins/wp-mvc</code> directory, generate scaffolding (initial code for a resource's model, views, and controllers) for the Venue resource:</p>

<p><code>./wpmvc generate scaffold VenueListing Venue</code></p>

<p>This will create a model, views, a public controller, and an admin controller for venues in <code>plugins/venue-listing/app/</code>.  You will also now see an admin menu for managing venues.</p>

<h4>Modify the admin views</h4>

<p>The generated code only uses the <code>name</code> column, so let's add fields to the <code>add</code> and <code>edit</code> forms for the other columns.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// app/views/admin/venues/add.php</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;h2&gt;Add Venue&lt;/h2&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$model</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;URL&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width: 300px;&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;address1&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Address 1&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;address2&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Address 2&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width: 40px;&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width: 80px;&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">(</span><span class="s1">&#39;Add&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>




<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// app/views/admin/venues/edit.php</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;h2&gt;Edit Venue&lt;/h2&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">object_link</span><span class="p">(</span><span class="nv">$object</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;venues&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;View&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$model</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;URL&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width: 300px;&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;address1&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Address 1&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;address2&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Address 2&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width: 40px;&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;width: 80px;&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<h4>Modify the public views</h4>

<p>Let's display the venue address and a link to its website in the public <code>show</code> view.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// app/views/venues/show.php</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$object</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&lt;/h2&gt;</span>

<span class="x">&lt;div&gt;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span><span class="s1">&#39;Website&#39;</span><span class="p">,</span> <span class="nv">$object</span><span class="o">-&gt;</span><span class="na">url</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>

<span class="cp">&lt;?php</span>
  <span class="k">echo</span> <span class="s1">&#39;&lt;div&gt;&#39;</span><span class="o">.</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">address1</span><span class="o">.</span><span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">address2</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;&lt;div&gt;&#39;</span><span class="o">.</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">address2</span><span class="o">.</span><span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">echo</span> <span class="s1">&#39;&lt;div&gt;&#39;</span><span class="o">.</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">city</span><span class="o">.</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">state</span><span class="o">.</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="nv">$object</span><span class="o">-&gt;</span><span class="na">zip</span><span class="o">.</span><span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;p&gt;</span>
<span class="x">  </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">html</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span><span class="s1">&#39;All Venues&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;venues&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/p&gt;</span>
</code></pre>
</div>


<p>That's it!  You can now begin to add venues in the admin section in Venues > Add New, edit them, view them at public-facing URLs like /venue/1/, and see a paginated list of them at /venues/.</p>

</div>

    </div>

    <div class="addthis-container">
      <div class="addthis_toolbox addthis_default_style" addthis:url="http://wpmvc.org" addthis:title="WP MVC" addthis:description="{mf-sharing-text}">
        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
        <a class="addthis_button_tweet"></a>
        <a class="addthis_counter addthis_pill_style"></a>
      </div>
    </div>

    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4e9f102e24582422"></script>


  </div>

</body>
</html>
