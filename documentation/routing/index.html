<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Routing | WP MVC</title>

   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/css/default.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/documentation.css" type="text/css" media="screen, projection" />
</head>
<body>

  <a href="https://github.com/tombenner/wp-mvc"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

  <div id="container">
  
    <div id="nav">
      
      <div id="header">
        <a href="/" id="logo">WP MVC</a>
      </div>

      <ul class="doc-nav" id="sections"><li class="in-active-tree"><a href="/documentation/installation">Installation</a><ul><li><a href="/documentation/installation/installing_example_plugins.html">Installing Example Plugins</a></li></ul></li><li class="in-active-tree"><a href="/documentation/tutorial">Tutorial</a><ul><li><a href="/documentation/tutorial/create_the_plugin.html">Create the Plugin</a></li><li><a href="/documentation/tutorial/create_the_database_table.html">Create the Database Table</a></li><li><a href="/documentation/tutorial/create_the_models_views_and_controllers.html">Create the Models Views and Controllers</a></li></ul></li><li class="in-active-tree"><a href="/documentation/creating_plugins">Creating Plugins</a><ul><li><a href="/documentation/creating_plugins/generating_code.html">Generating Code</a></li></ul></li><li class="in-active-tree"><a href="/documentation/creating_database_tables.html">Creating Database Tables</a></li><li class="in-active-tree"><a href="/documentation/models">Models</a><ul><li><a href="/documentation/models/saving_data">Saving Data</a><ul><li><a href="/documentation/models/saving_data/create.html">create</a></li><li><a href="/documentation/models/saving_data/save.html">save</a></li><li><a href="/documentation/models/saving_data/update.html">update</a></li><li><a href="/documentation/models/saving_data/update_all.html">update_all</a></li><li><a href="/documentation/models/saving_data/insert.html">insert</a></li></ul></li><li><a href="/documentation/models/retrieving_data">Retrieving Data</a><ul><li><a href="/documentation/models/retrieving_data/find.html">find</a></li><li><a href="/documentation/models/retrieving_data/find_one.html">find_one</a></li><li><a href="/documentation/models/retrieving_data/find_by_id.html">find_by_id</a></li><li><a href="/documentation/models/retrieving_data/find_by__.html">find_by_*</a></li><li><a href="/documentation/models/retrieving_data/find_one_by__.html">find_one_by_*</a></li><li><a href="/documentation/models/retrieving_data/paginate.html">paginate</a></li><li><a href="/documentation/models/retrieving_data/count.html">count</a></li><li><a href="/documentation/models/retrieving_data/max.html">max</a></li><li><a href="/documentation/models/retrieving_data/min.html">min</a></li><li><a href="/documentation/models/retrieving_data/sum.html">sum</a></li><li><a href="/documentation/models/retrieving_data/average.html">average</a></li></ul></li><li><a href="/documentation/models/deleting_data">Deleting Data</a><ul><li><a href="/documentation/models/deleting_data/delete.html">delete</a></li><li><a href="/documentation/models/deleting_data/delete_all.html">delete_all</a></li></ul></li><li><a href="/documentation/models/validations.html">Validations</a></li><li><a href="/documentation/models/associations">Associations</a><ul><li><a href="/documentation/models/associations/belongs_to.html">Belongs To</a></li><li><a href="/documentation/models/associations/has_many.html">Has Many</a></li><li><a href="/documentation/models/associations/has_and_belongs_to_many.html">Has and Belongs To Many</a></li><li><a href="/documentation/models/associations/dependent_associations.html">Dependent Associations</a></li></ul></li><li><a href="/documentation/models/model_attributes">Model Attributes</a><ul><li><a href="/documentation/models/model_attributes/table.html">table</a></li><li><a href="/documentation/models/model_attributes/database.html">database</a></li><li><a href="/documentation/models/model_attributes/includes.html">includes</a></li><li><a href="/documentation/models/model_attributes/order.html">order</a></li><li><a href="/documentation/models/model_attributes/display_field.html">display_field</a></li><li><a href="/documentation/models/model_attributes/primary_key.html">primary_key</a></li><li><a href="/documentation/models/model_attributes/selects.html">selects</a></li><li><a href="/documentation/models/model_attributes/per_page.html">per_page</a></li><li><a href="/documentation/models/model_attributes/hide_menu.html">hide_menu</a></li></ul></li><li><a href="/documentation/models/model_methods">Model Methods</a><ul><li><a href="/documentation/models/model_methods/after_find.html">after_find</a></li><li><a href="/documentation/models/model_methods/after_save.html">after_save</a></li><li><a href="/documentation/models/model_methods/to_url.html">to_url</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/controllers">Controllers</a><ul><li><a href="/documentation/controllers/controller_methods">Controller Methods</a><ul><li><a href="/documentation/controllers/controller_methods/set.html">set</a></li><li><a href="/documentation/controllers/controller_methods/set_object.html">set_object</a></li><li><a href="/documentation/controllers/controller_methods/set_objects.html">set_objects</a></li><li><a href="/documentation/controllers/controller_methods/set_pagination.html">set_pagination</a></li><li><a href="/documentation/controllers/controller_methods/load_helper.html">load_helper</a></li><li><a href="/documentation/controllers/controller_methods/load_model.html">load_model</a></li><li><a href="/documentation/controllers/controller_methods/load_models.html">load_models</a></li><li><a href="/documentation/controllers/controller_methods/redirect.html">redirect</a></li><li><a href="/documentation/controllers/controller_methods/flash.html">flash</a></li><li><a href="/documentation/controllers/controller_methods/create_or_save.html">create_or_save</a></li></ul></li><li><a href="/documentation/controllers/controller_attributes">Controller Attributes</a><ul><li><a href="/documentation/controllers/controller_attributes/before.html">before</a></li><li><a href="/documentation/controllers/controller_attributes/after.html">after</a></li><li><a href="/documentation/controllers/controller_attributes/default_searchable_fields.html">default_searchable_fields</a></li><li><a href="/documentation/controllers/controller_attributes/default_search_joins.html">default_search_joins</a></li><li><a href="/documentation/controllers/controller_attributes/default_columns.html">default_columns</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/views">Views</a><ul><li><a href="/documentation/views/layouts">Layouts</a><ul><li><a href="/documentation/views/layouts/specifying_a_layout.html">Specifying a Layout</a></li></ul></li><li><a href="/documentation/views/views_within_views.html">Views Within Views</a></li><li><a href="/documentation/views/using_helpers.html">Using Helpers</a></li><li><a href="/documentation/views/view_methods">View Methods</a><ul><li><a href="/documentation/views/view_methods/pagination.html">pagination</a></li><li><a href="/documentation/views/view_methods/render_view.html">render_view</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/helpers">Helpers</a><ul><li><a href="/documentation/helpers/creating_helpers.html">Creating Helpers</a></li><li><a href="/documentation/helpers/core_helpers">Core Helpers</a><ul><li><a href="/documentation/helpers/core_helpers/html.html">HTML</a></li><li><a href="/documentation/helpers/core_helpers/form.html">Form</a></li><li><a href="/documentation/helpers/core_helpers/form_tags.html">Form Tags</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/functions">Functions</a><ul><li><a href="/documentation/functions/is_mvc_page.html">is_mvc_page</a></li><li><a href="/documentation/functions/mvc_model.html">mvc_model</a></li><li><a href="/documentation/functions/mvc_public_url.html">mvc_public_url</a></li><li><a href="/documentation/functions/mvc_admin_url.html">mvc_admin_url</a></li><li><a href="/documentation/functions/mvc_css_url.html">mvc_css_url</a></li><li><a href="/documentation/functions/mvc_js_url.html">mvc_js_url</a></li><li><a href="/documentation/functions/mvc_render_to_string.html">mvc_render_to_string</a></li><li><a href="/documentation/functions/mvc_get_plugins.html">mvc_get_plugins</a></li></ul></li><li class="active in-active-tree"><a href="/documentation/routing">Routing</a><ul class="in-active-tree"><li class="in-active-tree"><a href="/documentation/routing/pretty_urls.html">Pretty URLs</a></li></ul></li><li class="in-active-tree"><a href="/documentation/utilities">Utilities</a><ul><li><a href="/documentation/utilities/inflector">Inflector</a><ul><li><a href="/documentation/utilities/inflector/inflector_methods.html">Inflector Methods</a></li><li><a href="/documentation/utilities/inflector/adding_rules_to_inflector.html">Adding Rules To Inflector</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/configuration">Configuration</a><ul><li><a href="/documentation/configuration/debug.html">Debug</a></li><li><a href="/documentation/configuration/adminpages.html">AdminPages</a></li></ul></li><li class="in-active-tree"><a href="/documentation/wordpress_data_integration">Wordpress Data Integration</a><ul><li><a href="/documentation/wordpress_data_integration/models_for_wordpress_tables.html">Models For Wordpress Tables</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts">Synchronizing Models With Posts</a><ul><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/no_associated_custom_post_type.html">No Associated Custom Post Type</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/default_custom_post_type.html">Default Custom Post Type</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/customized_custom_post_type.html">Customized Custom Post Type</a></li></ul></li><li><a href="/documentation/wordpress_data_integration/quick_settings_pages.html">Quick Settings Pages</a></li></ul></li></ul>
      
      <div class="extra">
        <a href="/download.html">Download</a>
      </div>
      
      <div class="extra">
        <a href="/contact.html">Contact</a>
      </div>
      
      <div class="extra">
        <a href="https://github.com/tombenner/wp-mvc">Source</a>
      </div>
      
      <div class="extra extra-small">
        Powered by <a href="https://github.com/tombenner/jdoc">JDoc</a>
      </div>
      
    </div>

    <div id="content">
    
      <div class="documentation-content">
  <h2>Routing</h2>
  <p>By default, WP MVC sets up the following public routes:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;{:controller}&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;{:controller}/{:id:[\d]+}&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;show&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;{:controller}/{:action}/{:id:[\d]+}&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>


<p>The first line makes URLs like <code>/venues/</code> use <code>array('controller' =&gt; 'venues', 'action' =&gt; 'index')</code>.</p>

<p>The second line makes URLs like <code>/venues/23</code> use <code>array('controller' =&gt; 'venues', 'action' =&gt; 'show', 'id' =&gt; 23)</code>.</p>

<p>The third line makes URLs like <code>/venues/custom_action/23</code> use <code>array('controller' =&gt; 'venues', 'action' =&gt; 'custom_action', 'id' =&gt; 23)</code>.</p>

<p>Routing of admin pages is handled more behind the scenes, but you can adjust what admin pages are available by setting a model's <code>admin_pages</code> attribute.</p>

<p>To set up an <a href="http://codex.wordpress.org/AJAX_in_Plugins#Ajax_on_the_Administration_Side">admin AJAX call</a>, use <code>MvcRouter::admin_ajax_connect()</code>.</p>

<h3>Custom routing</h3>

<p>To set up your own public routing and/or admin AJAX routing, add a file at <code>app/config/routes.php</code> containing code like the following:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>

<span class="c1">// app/config/routes.php</span>

<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;documentation_nodes&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;documentation/{:id:[\d]+}.*&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;documentation_nodes&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;show&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;search&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;documentation_nodes&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;search&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;{:controller}&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;{:controller}/{:id:[\d]+}&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;show&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">public_connect</span><span class="p">(</span><span class="s1">&#39;{:controller}/{:action}/{:id:[\d]+}&#39;</span><span class="p">);</span>

<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">admin_ajax_connect</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;admin_documentation_nodes&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;update_tree&#39;</span><span class="p">));</span>
<span class="nx">MvcRouter</span><span class="o">::</span><span class="na">admin_ajax_connect</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;admin_documentation_nodes&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;preview_content&#39;</span><span class="p">));</span>

<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>


<p>The second <code>admin_ajax_connect()</code> call above allows for an AJAX call like the following to be made:</p>

<div class="highlight"><pre><code class="js"><span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="c1">// Data to send to the AJAX call</span>
  <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">action</span><span class="o">:</span> <span class="s1">&#39;admin_documentation_nodes_preview_content&#39;</span><span class="p">,</span>
    <span class="nx">content</span><span class="o">:</span> <span class="s1">&#39;my_content&#39;</span>
  <span class="p">};</span>
  
  <span class="c1">// ajaxurl is defined by WordPress</span>
  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">ajaxurl</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// Handle the response</span>
  <span class="p">});</span>
  
<span class="p">});</span>
</code></pre></div>


</div>

    </div>

    <div class="addthis-container">
      <div class="addthis_toolbox addthis_default_style" addthis:url="http://wpmvc.org" addthis:title="WP MVC" addthis:description="{mf-sharing-text}">
        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
        <a class="addthis_button_tweet"></a>
        <a class="addthis_counter addthis_pill_style"></a>
      </div>
    </div>

    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4e9f102e24582422"></script>


  </div>

</body>
</html>
