<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>find | WP MVC</title>

   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/css/default.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" href="/css/documentation.css" type="text/css" media="screen, projection" />
</head>
<body>

  <a href="https://github.com/tombenner/wp-mvc"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

  <div id="container">
  
    <div id="nav">
      
      <div id="header">
        <a href="/" id="logo">WP MVC</a>
      </div>

      <ul class="doc-nav" id="sections"><li class="in-active-tree"><a href="/documentation/installation">Installation</a><ul><li><a href="/documentation/installation/installing_example_plugins.html">Installing Example Plugins</a></li></ul></li><li class="in-active-tree"><a href="/documentation/tutorial">Tutorial</a><ul><li><a href="/documentation/tutorial/create_the_plugin.html">Create the Plugin</a></li><li><a href="/documentation/tutorial/create_the_database_table.html">Create the Database Table</a></li><li><a href="/documentation/tutorial/create_the_models_views_and_controllers.html">Create the Models Views and Controllers</a></li></ul></li><li class="in-active-tree"><a href="/documentation/creating_plugins">Creating Plugins</a><ul><li><a href="/documentation/creating_plugins/generating_code.html">Generating Code</a></li></ul></li><li class="in-active-tree"><a href="/documentation/creating_database_tables.html">Creating Database Tables</a></li><li class="in-active-tree"><a href="/documentation/models">Models</a><ul class="in-active-tree"><li class="in-active-tree"><a href="/documentation/models/saving_data">Saving Data</a><ul><li><a href="/documentation/models/saving_data/create.html">create</a></li><li><a href="/documentation/models/saving_data/save.html">save</a></li><li><a href="/documentation/models/saving_data/update.html">update</a></li><li><a href="/documentation/models/saving_data/update_all.html">update_all</a></li><li><a href="/documentation/models/saving_data/insert.html">insert</a></li></ul></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data">Retrieving Data</a><ul class="in-active-tree"><li class="active in-active-tree"><a href="/documentation/models/retrieving_data/find.html">find</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/find_one.html">find_one</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/find_by_id.html">find_by_id</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/find_by__.html">find_by_*</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/find_one_by__.html">find_one_by_*</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/paginate.html">paginate</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/count.html">count</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/max.html">max</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/min.html">min</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/sum.html">sum</a></li><li class="in-active-tree"><a href="/documentation/models/retrieving_data/average.html">average</a></li></ul></li><li class="in-active-tree"><a href="/documentation/models/deleting_data">Deleting Data</a><ul><li><a href="/documentation/models/deleting_data/delete.html">delete</a></li><li><a href="/documentation/models/deleting_data/delete_all.html">delete_all</a></li></ul></li><li class="in-active-tree"><a href="/documentation/models/validations.html">Validations</a></li><li class="in-active-tree"><a href="/documentation/models/associations">Associations</a><ul><li><a href="/documentation/models/associations/belongs_to.html">Belongs To</a></li><li><a href="/documentation/models/associations/has_many.html">Has Many</a></li><li><a href="/documentation/models/associations/has_and_belongs_to_many.html">Has and Belongs To Many</a></li><li><a href="/documentation/models/associations/dependent_associations.html">Dependent Associations</a></li></ul></li><li class="in-active-tree"><a href="/documentation/models/model_attributes">Model Attributes</a><ul><li><a href="/documentation/models/model_attributes/table.html">table</a></li><li><a href="/documentation/models/model_attributes/database.html">database</a></li><li><a href="/documentation/models/model_attributes/includes.html">includes</a></li><li><a href="/documentation/models/model_attributes/order.html">order</a></li><li><a href="/documentation/models/model_attributes/display_field.html">display_field</a></li><li><a href="/documentation/models/model_attributes/primary_key.html">primary_key</a></li><li><a href="/documentation/models/model_attributes/selects.html">selects</a></li><li><a href="/documentation/models/model_attributes/per_page.html">per_page</a></li><li><a href="/documentation/models/model_attributes/hide_menu.html">hide_menu</a></li></ul></li><li class="in-active-tree"><a href="/documentation/models/model_methods">Model Methods</a><ul><li><a href="/documentation/models/model_methods/after_find.html">after_find</a></li><li><a href="/documentation/models/model_methods/after_save.html">after_save</a></li><li><a href="/documentation/models/model_methods/to_url.html">to_url</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/controllers">Controllers</a><ul><li><a href="/documentation/controllers/controller_methods">Controller Methods</a><ul><li><a href="/documentation/controllers/controller_methods/set.html">set</a></li><li><a href="/documentation/controllers/controller_methods/set_object.html">set_object</a></li><li><a href="/documentation/controllers/controller_methods/set_objects.html">set_objects</a></li><li><a href="/documentation/controllers/controller_methods/set_pagination.html">set_pagination</a></li><li><a href="/documentation/controllers/controller_methods/load_helper.html">load_helper</a></li><li><a href="/documentation/controllers/controller_methods/load_model.html">load_model</a></li><li><a href="/documentation/controllers/controller_methods/load_models.html">load_models</a></li><li><a href="/documentation/controllers/controller_methods/redirect.html">redirect</a></li><li><a href="/documentation/controllers/controller_methods/flash.html">flash</a></li><li><a href="/documentation/controllers/controller_methods/create_or_save.html">create_or_save</a></li></ul></li><li><a href="/documentation/controllers/controller_attributes">Controller Attributes</a><ul><li><a href="/documentation/controllers/controller_attributes/before.html">before</a></li><li><a href="/documentation/controllers/controller_attributes/after.html">after</a></li><li><a href="/documentation/controllers/controller_attributes/default_searchable_fields.html">default_searchable_fields</a></li><li><a href="/documentation/controllers/controller_attributes/default_search_joins.html">default_search_joins</a></li><li><a href="/documentation/controllers/controller_attributes/default_columns.html">default_columns</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/views">Views</a><ul><li><a href="/documentation/views/layouts">Layouts</a><ul><li><a href="/documentation/views/layouts/specifying_a_layout.html">Specifying a Layout</a></li></ul></li><li><a href="/documentation/views/views_within_views.html">Views Within Views</a></li><li><a href="/documentation/views/using_helpers.html">Using Helpers</a></li><li><a href="/documentation/views/view_methods">View Methods</a><ul><li><a href="/documentation/views/view_methods/pagination.html">pagination</a></li><li><a href="/documentation/views/view_methods/render_view.html">render_view</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/helpers">Helpers</a><ul><li><a href="/documentation/helpers/creating_helpers.html">Creating Helpers</a></li><li><a href="/documentation/helpers/core_helpers">Core Helpers</a><ul><li><a href="/documentation/helpers/core_helpers/html.html">HTML</a></li><li><a href="/documentation/helpers/core_helpers/form.html">Form</a></li><li><a href="/documentation/helpers/core_helpers/form_tags.html">Form Tags</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/functions">Functions</a><ul><li><a href="/documentation/functions/is_mvc_page.html">is_mvc_page</a></li><li><a href="/documentation/functions/mvc_model.html">mvc_model</a></li><li><a href="/documentation/functions/mvc_public_url.html">mvc_public_url</a></li><li><a href="/documentation/functions/mvc_admin_url.html">mvc_admin_url</a></li><li><a href="/documentation/functions/mvc_css_url.html">mvc_css_url</a></li><li><a href="/documentation/functions/mvc_js_url.html">mvc_js_url</a></li><li><a href="/documentation/functions/mvc_render_to_string.html">mvc_render_to_string</a></li><li><a href="/documentation/functions/mvc_get_plugins.html">mvc_get_plugins</a></li></ul></li><li class="in-active-tree"><a href="/documentation/routing">Routing</a><ul><li><a href="/documentation/routing/pretty_urls.html">Pretty URLs</a></li></ul></li><li class="in-active-tree"><a href="/documentation/utilities">Utilities</a><ul><li><a href="/documentation/utilities/inflector">Inflector</a><ul><li><a href="/documentation/utilities/inflector/inflector_methods.html">Inflector Methods</a></li><li><a href="/documentation/utilities/inflector/adding_rules_to_inflector.html">Adding Rules To Inflector</a></li></ul></li></ul></li><li class="in-active-tree"><a href="/documentation/configuration">Configuration</a><ul><li><a href="/documentation/configuration/debug.html">Debug</a></li><li><a href="/documentation/configuration/adminpages.html">AdminPages</a></li></ul></li><li class="in-active-tree"><a href="/documentation/wordpress_data_integration">Wordpress Data Integration</a><ul><li><a href="/documentation/wordpress_data_integration/models_for_wordpress_tables.html">Models For Wordpress Tables</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts">Synchronizing Models With Posts</a><ul><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/no_associated_custom_post_type.html">No Associated Custom Post Type</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/default_custom_post_type.html">Default Custom Post Type</a></li><li><a href="/documentation/wordpress_data_integration/synchronizing_models_with_posts/customized_custom_post_type.html">Customized Custom Post Type</a></li></ul></li><li><a href="/documentation/wordpress_data_integration/quick_settings_pages.html">Quick Settings Pages</a></li></ul></li></ul>
      
      <div class="extra">
        <a href="/download.html">Download</a>
      </div>
      
      <div class="extra">
        <a href="/contact.html">Contact</a>
      </div>
      
      <div class="extra">
        <a href="https://github.com/tombenner/wp-mvc">Source</a>
      </div>
      
      <div class="extra extra-small">
        Powered by <a href="https://github.com/tombenner/jdoc">JDoc</a>
      </div>
      
    </div>

    <div id="content">
    
      <div class="documentation-content">
  <h2>find</h2>
  <p>The <code>find()</code> method is the all-purpose method for retrieving data from a model.  It takes a single argument, an associative array of options for the find.  Here's an example that shows the available options (it isn't a practical example, though):</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// controllers/events_controller.php</span>
<span class="k">class</span> <span class="nc">EventsController</span> <span class="k">extends</span> <span class="nx">MvcPublicController</span> <span class="p">{</span>
  
  <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$objects</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Event</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;joins&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">),</span>
      <span class="s1">&#39;includes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Venue&#39;</span><span class="p">),</span>
      <span class="s1">&#39;selects&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Venue.id&#39;</span><span class="p">,</span> <span class="s1">&#39;Venue.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Event.date&#39;</span><span class="p">,</span> <span class="s1">&#39;Event.active&#39;</span><span class="p">),</span>
      <span class="s1">&#39;additional_selects&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Event.date&#39;</span><span class="p">),</span>
      <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Event.active&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;Event.date &gt;=&#39;</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">),</span>
        <span class="s1">&#39;Venue.id&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="mi">56</span><span class="p">,</span> <span class="mi">83</span><span class="p">)</span> <span class="c1">// Venue.id IN (56, 83)</span>
      <span class="p">),</span>
      <span class="s1">&#39;group&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Event.id&#39;</span><span class="p">,</span>
      <span class="s1">&#39;order&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Event.date DESC&#39;</span><span class="p">,</span>
      <span class="s1">&#39;page&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
      <span class="s1">&#39;per_page&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span>
    <span class="p">));</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="nv">$objects</span><span class="p">);</span>
  <span class="p">}</span>
  
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<h4>joins</h4>

<p>An array of associated models that will be included as joins in the query and in the results.</p>

<h4>includes</h4>

<p>An array of associated models that will be added to the object via additional SELECT queries after the initial SELECT query has been made.  These can't be referenced in <code>conditions</code>, but unlike <code>joins</code>, has_many and has_and_belongs_to many associations can be safely used here.</p>

<h4>selects</h4>

<p>An array of columns that will be selected in the query.  This will replace the default selected fields that are defined in the model.</p>

<h4>additional_selects</h4>

<p>An array of columns that will be merged with the default selected fields that are defined in the model; all of the columns in the resulting merged array will be selected in the query.</p>

<h4>conditions</h4>

<p>An array of conditions for the WHERE part of the query.  Conditions are joined with an AND by default, but OR conditions can be done like this:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="c1">// Find all Events that are active or are happening on or after today</span>
<span class="nv">$objects</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Event</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;conditions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;OR&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;Event.active&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s1">&#39;Event.date &gt;=&#39;</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="p">),</span>
    <span class="p">)</span>
  <span class="p">)</span>
<span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


<p>To group conditions together, use an <code>'AND'</code> or <code>'OR'</code> in the same way that the <code>'OR'</code> above is used.</p>

<h4>group</h4>

<p>A string specifying the value for a GROUP BY clause.</p>

<h4>order</h4>

<p>A string specifying the value for an ORDER clause.</p>

<h4>page</h4>

<p>An integer specifying which page of results should be returned.  The number of results per page defaults to the <code>per_page</code> property of the model, but can be overwritten with a <code>per_page</code> key in the find options.</p>

<h4>per_page</h4>

<p>An integer specifying the number of results per page.  This is only relevant when the <code>page</code> option is also set.</p>

</div>

    </div>

    <div class="addthis-container">
      <div class="addthis_toolbox addthis_default_style" addthis:url="http://wpmvc.org" addthis:title="WP MVC" addthis:description="{mf-sharing-text}">
        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
        <a class="addthis_button_tweet"></a>
        <a class="addthis_counter addthis_pill_style"></a>
      </div>
    </div>

    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4e9f102e24582422"></script>


  </div>

</body>
</html>
